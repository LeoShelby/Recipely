  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "password_digest" varchar, "remember_digest" varchar, "admin" boolean DEFAULT 'f')[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20170707122859)[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20170707081253),
(20170707082046),
(20170707082559),
(20170707100612);

[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-07-07 16:11:14.264642"], ["updated_at", "2017-07-07 16:11:14.264642"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "admin", "created_at", "updated_at", "id") VALUES ('Michael Example', 'michael@example.com', '$2a$04$tustpNiQlSXL6RLe3GUL7eJpMa8PTsMgT9zk6bMVysFl7ueWNDMPC', 't', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 762146111)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Sterling Archer', 'duchess@example.gov', '$2a$04$OR2yrOTwVuq.sD0ghNvmXuMh4amubw9YELxrbnZPp1J5WC0gfcvzG', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 950961012)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Lana Kane', 'hands@example.gov', '$2a$04$Fb/7X6mVzwCCKXMwmaRDUuTLUjtaLuNWu.l8UKvq8dkEcFzIDqhVe', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 409608538)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Malory Archer', 'boss@example.gov', '$2a$04$OEFxum8gHASFg.JVRvWuP.AAutHlt2YdQziZ6/jpm6lJcpY1bgcyK', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 659682706)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$pzXd/HmDVdH4GObZvfvQxug8eclA0yV7MSuoD1g.V6UAWtERJC9BK', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 338193910)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$PzuOJiaeAAYzHpauJ7Bos.7mqwARCK22mTwGozbMXRevKWYp8efW2', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 590306657)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$3Qxh.sfCw7F8MHS319xRke2ozw.n8yP4Eaaa2eiI/UtDB/gLdKJaC', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 975572189)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$JOIBU5OQIXWYw.SARV/7.O5xYCiHd7unm4U7Bk93VQlynFCx7D11G', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 220281934)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$X/fZqAvdamsYxGCyliWX1eevsKpPCE6I1E0Yqlec7ycUrLzakEhXK', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 323332591)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$3F6anJA.7p.FCNmv8nQAc.EoG7hOKvAE1EQcazDr42kl4NVqrjSme', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 608344442)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$tkiSJE4HH/CQphnvIh7bh.nSBrRTRn6YUteodEwuDZQ0Ba2LwxEPa', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 1028376774)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$fFqTh.JPzrNJzhKqktEyfelKRnXwIIUTJv3OujDa70JtMgliAmNN.', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 172816471)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$pnMxTL189U9SE216bx4c/u5cn./7f.G7vuBgWChBpu/52EdwtKNp.', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 452191684)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$.iu/KdpGnaBtW3Y5E6bB/ub85dZ3i4HbAWZiN3wOUcOIaWc/n3Hhu', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 771020115)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$04tbHu3RP4hyr8XGh4vAbe5CmjGdq.GNcbg8PO/gHf8eMBVbeP81i', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 956993830)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$cjiSgjlREjq/KlNqVKvOo.Hi0kzaphsNqHMBAjJrTtvH/pKwe4WQu', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 235774389)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$uCwmojkjEuWY5cJ.RhJKMOE8HE4Jm6iz3ENZXcb85T.xaXBNWH/Hi', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 386199561)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$BkPr9mkNYv11.hd32Fxbp.Fbyip318BGNkPrPmXyeM9zMh0yiT1au', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 537116830)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$T18YgZMWOcpCSoKczYZYeeIDFLI1vcfWyhXcMWqrO2/fwditBto.W', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 1046959423)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$J1VRQhEUOLZcdtgn.y1xpewhTAxCo4w59KnRTTbtttWpToMoGkKDm', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 157312430)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$fLMV/EHPm5GIw8.mFP2fwOGkgN.NpJxGGncbveU4aYifIjUQlhx46', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 275330066)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$Td12e.1XgM0NsTVCd0fNG.qdLj6Kr6pbE1f6aL/QaabkDvRhDkWh.', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 661521543)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$PsSO6UnYflkZKdlBM7tdL.FW9PLFU6tkKPhQLSq1FUOHq3h0YBUmS', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 936450328)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$KrySbMruIZrYufUN.8qB8eZq553kt8KUx5gLRDl9AbNqMlwihtx0q', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 14035331)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$260CJ/UJBZj40JTgdpJs.uvon5ZZe2LXWANyjJDIFi15jb74mkgVO', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 304595689)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$Ulqi3OtqaBTwo3kKj/8faeFol4advFrC38aVBe1RU.FENYB9TZ3ui', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 622916212)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$rqdVPvBofpNKmJ8uaw1gG.PKL3HxmhN20hq7rClUXXxryoaRcg7oy', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 1009361868)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$bhxiIS2WwvIPoX7sgtw8xORfaebS42SOVLEgu15ySKweh6L1XFgu6', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 187601757)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$7/XfYBxn7i0y6jjUplTw1.JVbZZBHuYkSgy1XcvcivAclvwsuLN3W', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 357172992)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$TO86uthOgfBEhgnfPREEZOJdy5TtsKREwmnIWaH0b4cQGuziszqye', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 575485547)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$OSIkLVNTSXMaqz9UERmoPutVgXK2IT6O5I3VLY1MyrPMQb734wVn6', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 994338771)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$bOablu77jHPih3po9o4o4.b5I/Ul0ozoWrHCBkRgxbSX9kGuS10JO', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 205739844)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$m1lJeAbVqcPJ0sR98xdiHevZnDMcB1xa8nB8sI8KHJ1mRQUmNClDe', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 486296279)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$u559P5WXQS68DUsiUbQxdOsTFEaovlS4Ev1mQ7s00IEWTekcohMG2', '2017-07-07 16:11:14.396354', '2017-07-07 16:11:14.396354', 737901126)[0m
  [1m[35m (2.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 950961012], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-07-07 18:11:14 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"michael@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "michael@example.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$cc0eFfFincidMs6rCIIyjer5GFJOgi.TOwuftp32vfhxFL/GuEZvG"], ["updated_at", "2017-07-07 16:11:14.513827"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/762146111
Completed 302 Found in 21ms (ActiveRecord: 0.4ms)
Started GET "/users" for 127.0.0.1 at 2017-07-07 18:11:14 +0200
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered users/_user.html.erb (1.3ms)
  Rendered users/_user.html.erb (0.2ms)
  Rendered users/_user.html.erb (0.6ms)
  Rendered users/_user.html.erb (0.2ms)
  Rendered users/_user.html.erb (0.7ms)
  Rendered users/_user.html.erb (0.2ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.2ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.2ms)
  Rendered users/_user.html.erb (0.7ms)
  Rendered users/_user.html.erb (0.2ms)
  Rendered users/_user.html.erb (0.6ms)
  Rendered users/_user.html.erb (0.2ms)
  Rendered users/_user.html.erb (0.7ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.2ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.2ms)
  Rendered users/_user.html.erb (0.7ms)
  Rendered users/_user.html.erb (0.2ms)
  Rendered users/_user.html.erb (0.6ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.5ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.6ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.7ms)
  Rendered users/_user.html.erb (0.2ms)
  Rendered users/index.html.erb within layouts/application (307.4ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4711ms (Views: 4708.0ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/950961012" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"950961012"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 950961012], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 950961012]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 950961012], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"duchess@example.gov", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "duchess@example.gov"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$tqMz2NOlSe6vhtuGZb7uOO4scTlMKr5rkgPjWCp.jtOXPzPYufd0e"], ["updated_at", "2017-07-07 16:11:19.273465"], ["id", 950961012]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/950961012
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/users" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 950961012], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered users/_user.html.erb (0.7ms)
  Rendered users/_user.html.erb (0.2ms)
  Rendered users/_user.html.erb (0.2ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/_user.html.erb (0.1ms)
  Rendered users/index.html.erb within layouts/application (11.0ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 22ms (Views: 19.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered users/new.html.erb within layouts/application (10.9ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 20ms (Views: 18.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2017-07-07 16:11:19.337321"], ["updated_at", "2017-07-07 16:11:19.337321"], ["password_digest", "$2a$04$MVB6EC4cvrV0/vAvV0mBEeNYfdcPCbkQ83S3cOm3uVxUrrUzxhQbK"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "remember_digest" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2017-07-07 16:11:19.340404"], ["remember_digest", "$2a$04$4ytXplCZvzn0.0WWsT7jNegCbrIz8d2i5ugNoj9LIcHYRKpiMtvCG"], ["id", 1046959424]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 16ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/users/1046959424" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1046959424], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.4ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1046959424], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 950961012], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by UsersController#index as HTML
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 950961012], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"duchess@example.gov", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "duchess@example.gov"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$xyASp9IzluzFmv/2g6UaFeqTcltSkIIaQzOzSWCAqDQq3dly.E0lO"], ["updated_at", "2017-07-07 16:11:19.370095"], ["id", 950961012]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/950961012
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 950961012], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 950961012], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"duchess@example.gov", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "duchess@example.gov"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$J3BBnH9A/7/2.9J70sP3.uk6V55kglVhgHUruz6ZYUkB55ZjqW/eu"], ["updated_at", "2017-07-07 16:11:19.381856"], ["id", 950961012]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/950961012
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Michael Example", "email"=>"michael@example.com"}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 950961012], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 950961012], ["LIMIT", 1]]
Started GET "/signup" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered users/new.html.erb within layouts/application (4.5ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 15ms (Views: 14.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 950961012], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 950961012], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"duchess@example.gov", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "duchess@example.gov"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$l9wgyQPS7qE5MIZ209vo7OpSaK7GGEE7tziPnnuobAia2WSWcD0PC"], ["updated_at", "2017-07-07 16:11:19.416619"], ["id", 950961012]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/950961012
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 950961012], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UserTest: test_shoul_not_be_too_long_name
-----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "bb@a.it"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
UserTest: test_shoul_be_valid
-----------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "bb@a.it"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------
UserTest: test_no_dublicate
---------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "bb@a.it"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?)[0m  [["name", "aaaaa"], ["email", "bb@a.it"], ["created_at", "2017-07-07 16:11:19.432108"], ["updated_at", "2017-07-07 16:11:19.432108"], ["password_digest", "$2a$04$hka7cwhG3DGSPJQMeg7JWONOlxFNODzWOAjdiQhMFwDPG5UGzZClq"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "bb@a.it"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_not_be_well_written_email
-----------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaa@.it"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------
UserTest: test_pssword-len
--------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "bb@a.it"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
UserTest: test_shoul_not_be_blank
---------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "bb@a.it"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
StaticPagesControllerTest: test_should_get_about
------------------------------------------------
Started GET "/about" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by StaticPagesController#about as HTML
  Rendering static_pages/about.html.erb within layouts/application
  Rendered static_pages/about.html.erb within layouts/application (0.3ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
StaticPagesControllerTest: test_should_get_help
-----------------------------------------------
Started GET "/help" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by StaticPagesController#help as HTML
  Rendering static_pages/help.html.erb within layouts/application
  Rendered static_pages/help.html.erb within layouts/application (0.3ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
StaticPagesControllerTest: test_should_get_home
-----------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  Rendered static_pages/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
StaticPagesControllerTest: test_should_get_root
-----------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  Rendered static_pages/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
StaticPagesControllerTest: test_should_get_contact
--------------------------------------------------
Started GET "/contact" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by StaticPagesController#contact as HTML
  Rendering static_pages/contact.html.erb within layouts/application
  Rendered static_pages/contact.html.erb within layouts/application (0.3ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  Rendered static_pages/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started GET "/signup" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered users/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$QczP.XhV4QA8zhfRBC3qJ.kqItblCmcIeZoZ4Xaswy6JdujeLmkFC"], ["updated_at", "2017-07-07 16:11:19.534246"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$zzyi5SZxKEkNwQdgDvOdduhAS00bplF0sH5MR7nYH.iBrjt8dOOaG"], ["updated_at", "2017-07-07 16:11:19.537362"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$gF8pOj.WLCDPchqtP8Pdd.3WlDyKcxQWDNyv00e29eMZKEA4v3ht."], ["updated_at", "2017-07-07 16:11:19.544559"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"michael@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "michael@example.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$yRHUCftRk2XMpAfaPw7OJeoAIIJLYylbzkR.Nvjez8ltUZpDsQbdC"], ["updated_at", "2017-07-07 16:11:19.553742"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/762146111
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"michael@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "michael@example.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/users/762146111
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.5ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  Rendered static_pages/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"michael@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "michael@example.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$SiW63wnPkHQ2jbT90yUlyO1q7y2J3xsLXqkxcFAnXerY154JfYdq2"], ["updated_at", "2017-07-07 16:11:19.603382"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/762146111
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started POST "/login" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"michael@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "michael@example.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2017-07-07 16:11:19.609211"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/762146111
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
UsersEditTest: test_successful_edit
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"michael@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "michael@example.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$XqTvhHnS1z0gpLbx5zFfyOMFIDO91YcDiKKhbnwgArLV.M11bWe6G"], ["updated_at", "2017-07-07 16:11:19.617808"], ["id", 762146111]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/762146111
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  Rendering users/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered users/edit.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.1ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND ("users"."id" != ?) LIMIT ?[0m  [["email", "foo@bar.com"], ["id", 762146111], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-07-07 16:11:19.638101"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/762146111
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"michael@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "michael@example.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$Rz3up/0wDO1Xrz4ycXLWzu2tHU5UD4z3HDC756PEzilZLPV8T7Zvi"], ["updated_at", "2017-07-07 16:11:19.649524"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/762146111/edit
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND ("users"."id" != ?) LIMIT ?[0m  [["email", "foo@bar.com"], ["id", 762146111], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-07-07 16:11:19.655866"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/762146111
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"michael@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "michael@example.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$l58wpGdgSMRThkoTu/T.ve/Xsw4owHB.KmFajW2sc/rfHYBst30ea"], ["updated_at", "2017-07-07 16:11:19.663926"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/762146111
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  Rendering users/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered users/edit.html.erb within layouts/application (3.3ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 14ms (Views: 10.7ms | ActiveRecord: 0.1ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-07-07 18:11:19 +0200
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 762146111], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND ("users"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 762146111], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering users/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.9ms)
  Rendered users/edit.html.erb within layouts/application (3.7ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 16ms (Views: 11.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
